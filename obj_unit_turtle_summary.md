# 거북이 (obj_unit_turtle)

> 높은 체력을 가진 탱커로, 특정 조건 하에 적의 돌진 공격을 등껍질로 받아내며 뒤로 미끄러져 공격을 무효화하고, 공격자를 그 자리에 멈추게 하는 독특한 군중 제어형 유닛입니다.

---

### 1. 역할 (Role)
*   **주 역할**: 탱커 (Tank) / 군중 제어 (Crowd Control)
*   **부 역할**: 전선 유지 (Frontline Holder) / 회피형 탱커 (Evasion Tank)

### 2. 기본 능력치 (Base Stats)
*   **체력**: 600 (고정)
*   **공격력**: 0 (기본 공격 없음)

### 3. 이동 (Movement)
*   **이동 방식**: 전진형. 유닛이 향하는 방향(`toward`)으로 전방 1칸 및 전방 대각선 2칸(위/아래), 총 3방향으로만 이동할 수 있습니다.

### 4. 핵심 메커니즘 (Core Mechanics)
> 거북이는 피해를 흡수하는 일반적인 탱커와 달리, 적의 공격을 '회피'하고 적의 움직임을 강제로 멈추게 하는 데 특화되어 있습니다.

*   **등껍질 방어 (Shell Defense)**: 거북이의 핵심 능력으로, 아래의 **모든 조건이 충족**될 때 발동합니다.
    1.  **공격 조건**: 광역(AOE) 공격이 아닌 단일 대상 공격이어야 합니다.
    2.  **공격자 조건**: 공격자가 경로를 따라 실제로 '이동하며 공격'하는 중이어야 합니다.
    3.  **위치 조건**: 거북이가 공격자의 이동 경로 정면에 위치해야 합니다.
    4.  **계산 조건**: `(공격자의 이동 거리) / (회피 거리 비율)`의 계산 결과가 정수여야 합니다. (즉, 회피할 위치가 정확히 그리드 타일 위에 떨어져야 함)
    5.  **공간 조건**: 최종적으로 회피할 위치가 맵 안의 비어있는 공간이어야 합니다.
*   발동 시, **피해를 완전히 무효화**하고 뒤쪽의 빈칸으로 미끄러지듯 회피합니다.
*   가장 중요한 효과로, **공격자의 이동을 그 자리에서 강제로 멈추고** 턴을 잠시 정지시켜 상황을 명확하게 보여줍니다.

*   **회피 거리 조절 (Evasion Distance Control)**:
    *   플레이어는 거북이에게 직접 명령을 내려 '회피 거리 비율'(`dist_division`)을 [1, 1.5, 2, 2.5, 3] 중에서 선택할 수 있습니다.
    *   이 비율은 위의 '계산 조건'에 사용되어, 회피가 발동할 수 있는 상황과 거리를 조절하는 데 영향을 줍니다.

### 5. 능력 상세 (Abilities)

#### 주 능력: 등껍질 방어 (Passive)
*   **능력명**: 등껍질 방어 (Shell Defense)
*   **발동 조건**: 이동 중인 적 유닛에게 단일 대상 공격을 받을 때, 상술한 모든 조건(공격자, 위치, 계산, 공간)이 충족되면 자동으로 발동합니다.
*   **효과**: 피해를 100% 무효화하고 설정된 비율에 따라 뒤로 미끄러져 회피합니다. 동시에 **공격자의 이동 경로(`path`)를 강제로 종료시켜 그 위치에 고정**시킵니다. 회피 시에는 몸을 빠르게 회전하며 미끄러지는 특유의 애니메이션을 보여줍니다.

#### 보조 능력: 회피 거리 조절 (Active)
*   **능력명**: 회피 거리 조절
*   **발동 조건**: 유닛을 선택하고 제자리에서 행동을 선택하여 발동합니다.
*   **효과**: "회피거리 축소비율"을 조절하는 팝업이 나타나며, 플레이어는 회피 시 밀려나는 거리의 비율을 직접 설정할 수 있습니다.

#### 특별 능력: 돌파 (Stale Breaker)
*   **능력명**: 돌파 (Stale Breaker)
*   **발동 조건**: 게임이 교착 상태에 빠졌다고 판단될 때 시스템에 의해 일시적으로 부여됩니다.
*   **효과**: 평소에는 없는 공격 능력이 생깁니다. 공격 시, **자신의 현재 체력과 대상의 현재 체력 중 더 큰 값**을 피해량으로 하여 공격합니다.

### 6. 비고 (Notes)
*   거북이는 적의 강력한 단일 돌진 유닛(예: 전사 타입)을 카운터치는 데 매우 효과적입니다.
*   단순히 길을 막는 것을 넘어, 적의 위치와 턴 흐름에 직접 개입하는 전략적인 유닛입니다.
