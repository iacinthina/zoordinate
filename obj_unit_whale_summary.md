# 고래 (obj_unit_whale)

> 공격 능력은 없지만, 주변의 다른 고래와 피해를 나누어 받는 '피해 공유' 능력을 통해 엄청난 방어 능력을 발휘하는 탱커 유닛입니다.

---

### 1. 역할 (Role)
*   **주 역할**: 탱커 (Tank) / 피해 분산 (Damage Soak)
*   **부 역할**: 전선 유지 (Frontline Holder)

### 2. 기본 능력치 (Base Stats)
*   **체력**: 500 (고정)
*   **공격력**: 0 (없음)

### 3. 이동 (Movement)
*   **이동 방식**: 전진형. 유닛이 향하는 방향(`toward`)으로 전방 1칸 및 전방 대각선 2칸(위/아래), 총 3방향으로만 이동할 수 있습니다.
*   **방향 전환**: 맵의 끝에 도달하면 `toward` 변수의 값이 반전되어 반대 방향으로 향하게 됩니다.

### 4. 핵심 메커니즘 (Core Mechanics)
> 고래는 단독으로는 약하지만, 여러 마리가 뭉쳤을 때 피해를 공유하며 생존력이 극대화되는 독특한 방어 메커니즘을 가집니다.

*   **피해 공유 (Damage Sharing)**: 고래의 가장 핵심적인 능력입니다.
    *   피해를 받으면, 3칸 범위 내에 있는 모든 아군 고래가 그 피해를 균등하게 나누어 받습니다.
    *   이 능력의 범위는 유닛이 공격받을 때 점선 원으로 시각적으로 표시됩니다.

*   **조건부 회복 (Conditional Healing)**:
    *   피해를 입을 때마다 `heal_stack`이 1씩 누적됩니다.
    *   피해를 공유하는 그룹 내 모든 고래의 `heal_stack` 총합이 3 이상이 되면, 그룹 내 모든 고래의 스택이 초기화되고, 각자 10만큼 체력을 회복합니다.

### 5. 능력 상세 (Abilities)

#### 주 능력: 피해 공유 (Passive)
*   **능력명**: 피해 공유
*   **발동 조건**: 유닛이 피해를 입을 때 자동으로 발동합니다.
*   **효과**: 3칸 범위 내의 아군 고래들과 받은 피해를 나눠 입습니다. 이로 인해 단일 대상에게 가해지는 강력한 공격을 여러 개체가 흡수하여 버틸 수 있습니다.

#### 특별 능력: 돌파 (Stale Breaker)
*   **능력명**: 돌파 (Stale Breaker)
*   **발동 조건**: 게임이 교착 상태(아군에게 공격 유닛이 하나도 없는 상황)에 빠졌다고 판단될 때, 시스템에 의해 일시적으로 부여됩니다.
*   **효과**: 평소에는 없는 공격 능력이 생깁니다. 공격 시, **자신의 현재 체력과 대상의 현재 체력 중 더 큰 값**을 피해량으로 하여 공격합니다. 이 능력은 방어적인 고래가 게임을 진행시키기 위해 장애물을 제거할 수 있도록 하는 최후의 수단입니다.

### 6. 비고 (Notes)
*   개별 개체는 지정된 체력 이상의 피해를 받으면 쉽게 파괴되지만, 여러 마리가 뭉칠수록 사실상 체력이 배가 되어 기하급수적으로 단단해집니다.
*   공격 능력이 전혀 없으므로, 다른 공격 유닛과의 조합이 필수적입니다. 전선을 형성하고 다른 유닛을 보호하는 데 최적화되어 있습니다.
*   교착 상태에서는 강력한 '돌파' 공격을 할 수 있는 잠재력이 있습니다.